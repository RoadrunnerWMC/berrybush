import numpy as np


def generateLookup(bits: int, interpFac: float):
    """Used to generate the single-color DXT1 lookup tables.
	https://www.sjbrown.co.uk/posts/dxt-compression-techniques/

	Example calls:
    _PLT_3_5BIT: generateLookup(5, 1/2)
    _PLT_3_6BIT: generateLookup(6, 1/2)
    _PLT_4_5BIT: generateLookup(5, 1/3)
    _PLT_4_6BIT: generateLookup(6, 1/3)
    """
    lookup: list[tuple[int, int]] = []
    maxBitVal = 2 ** bits - 1
    for v in range(255 + 1):
        bestError = 255
        best = ()
        for plt1 in range(maxBitVal + 1):
            for plt2 in range(maxBitVal + 1):
                processed = (plt1 * (1 - interpFac) + plt2 * interpFac) / maxBitVal * 255
                error = np.abs(processed - v)
                if error < bestError:
                    bestError = error
                    best = (plt1, plt2)
        lookup.append(best)
    return lookup


_PLT_3_5BIT = np.array((
    (0, 0),
    (0, 0),
    (0, 0),
    (0, 1),
    (0, 1),
    (0, 1),
    (0, 1),
    (0, 2),
    (0, 2),
    (0, 2),
    (0, 2),
    (0, 3),
    (0, 3),
    (0, 3),
    (0, 3),
    (0, 4),
    (0, 4),
    (0, 4),
    (0, 4),
    (0, 5),
    (0, 5),
    (0, 5),
    (0, 5),
    (0, 6),
    (0, 6),
    (0, 6),
    (0, 6),
    (0, 7),
    (0, 7),
    (0, 7),
    (0, 7),
    (0, 8),
    (0, 8),
    (0, 8),
    (0, 8),
    (0, 9),
    (0, 9),
    (0, 9),
    (0, 9),
    (0, 9),
    (0, 10),
    (0, 10),
    (0, 10),
    (0, 10),
    (0, 11),
    (0, 11),
    (0, 11),
    (0, 11),
    (0, 12),
    (0, 12),
    (0, 12),
    (0, 12),
    (0, 13),
    (0, 13),
    (0, 13),
    (0, 13),
    (0, 14),
    (0, 14),
    (0, 14),
    (0, 14),
    (0, 15),
    (0, 15),
    (0, 15),
    (0, 15),
    (0, 16),
    (0, 16),
    (0, 16),
    (0, 16),
    (0, 17),
    (0, 17),
    (0, 17),
    (0, 17),
    (0, 18),
    (0, 18),
    (0, 18),
    (0, 18),
    (0, 18),
    (0, 19),
    (0, 19),
    (0, 19),
    (0, 19),
    (0, 20),
    (0, 20),
    (0, 20),
    (0, 20),
    (0, 21),
    (0, 21),
    (0, 21),
    (0, 21),
    (0, 22),
    (0, 22),
    (0, 22),
    (0, 22),
    (0, 23),
    (0, 23),
    (0, 23),
    (0, 23),
    (0, 24),
    (0, 24),
    (0, 24),
    (0, 24),
    (0, 25),
    (0, 25),
    (0, 25),
    (0, 25),
    (0, 26),
    (0, 26),
    (0, 26),
    (0, 26),
    (0, 27),
    (0, 27),
    (0, 27),
    (0, 27),
    (0, 27),
    (0, 28),
    (0, 28),
    (0, 28),
    (0, 28),
    (0, 29),
    (0, 29),
    (0, 29),
    (0, 29),
    (0, 30),
    (0, 30),
    (0, 30),
    (0, 30),
    (0, 31),
    (0, 31),
    (0, 31),
    (0, 31),
    (1, 31),
    (1, 31),
    (1, 31),
    (1, 31),
    (2, 31),
    (2, 31),
    (2, 31),
    (2, 31),
    (3, 31),
    (3, 31),
    (3, 31),
    (3, 31),
    (4, 31),
    (4, 31),
    (4, 31),
    (4, 31),
    (4, 31),
    (5, 31),
    (5, 31),
    (5, 31),
    (5, 31),
    (6, 31),
    (6, 31),
    (6, 31),
    (6, 31),
    (7, 31),
    (7, 31),
    (7, 31),
    (7, 31),
    (8, 31),
    (8, 31),
    (8, 31),
    (8, 31),
    (9, 31),
    (9, 31),
    (9, 31),
    (9, 31),
    (10, 31),
    (10, 31),
    (10, 31),
    (10, 31),
    (11, 31),
    (11, 31),
    (11, 31),
    (11, 31),
    (12, 31),
    (12, 31),
    (12, 31),
    (12, 31),
    (13, 31),
    (13, 31),
    (13, 31),
    (13, 31),
    (13, 31),
    (14, 31),
    (14, 31),
    (14, 31),
    (14, 31),
    (15, 31),
    (15, 31),
    (15, 31),
    (15, 31),
    (16, 31),
    (16, 31),
    (16, 31),
    (16, 31),
    (17, 31),
    (17, 31),
    (17, 31),
    (17, 31),
    (18, 31),
    (18, 31),
    (18, 31),
    (18, 31),
    (19, 31),
    (19, 31),
    (19, 31),
    (19, 31),
    (20, 31),
    (20, 31),
    (20, 31),
    (20, 31),
    (21, 31),
    (21, 31),
    (21, 31),
    (21, 31),
    (22, 31),
    (22, 31),
    (22, 31),
    (22, 31),
    (22, 31),
    (23, 31),
    (23, 31),
    (23, 31),
    (23, 31),
    (24, 31),
    (24, 31),
    (24, 31),
    (24, 31),
    (25, 31),
    (25, 31),
    (25, 31),
    (25, 31),
    (26, 31),
    (26, 31),
    (26, 31),
    (26, 31),
    (27, 31),
    (27, 31),
    (27, 31),
    (27, 31),
    (28, 31),
    (28, 31),
    (28, 31),
    (28, 31),
    (29, 31),
    (29, 31),
    (29, 31),
    (29, 31),
    (30, 31),
    (30, 31),
    (30, 31),
    (30, 31),
    (31, 31),
    (31, 31),
    (31, 31),
)) / 31


_PLT_3_6BIT = np.array((
    (0, 0),
    (0, 0),
    (0, 1),
    (0, 1),
    (0, 2),
    (0, 2),
    (0, 3),
    (0, 3),
    (0, 4),
    (0, 4),
    (0, 5),
    (0, 5),
    (0, 6),
    (0, 6),
    (0, 7),
    (0, 7),
    (0, 8),
    (0, 8),
    (0, 9),
    (0, 9),
    (0, 10),
    (0, 10),
    (0, 11),
    (0, 11),
    (0, 12),
    (0, 12),
    (0, 13),
    (0, 13),
    (0, 14),
    (0, 14),
    (0, 15),
    (0, 15),
    (0, 16),
    (0, 16),
    (0, 17),
    (0, 17),
    (0, 18),
    (0, 18),
    (0, 19),
    (0, 19),
    (0, 20),
    (0, 20),
    (0, 21),
    (0, 21),
    (0, 22),
    (0, 22),
    (0, 23),
    (0, 23),
    (0, 24),
    (0, 24),
    (0, 25),
    (0, 25),
    (0, 26),
    (0, 26),
    (0, 27),
    (0, 27),
    (0, 28),
    (0, 28),
    (0, 29),
    (0, 29),
    (0, 30),
    (0, 30),
    (0, 31),
    (0, 31),
    (0, 32),
    (0, 32),
    (0, 33),
    (0, 33),
    (0, 34),
    (0, 34),
    (0, 35),
    (0, 35),
    (0, 36),
    (0, 36),
    (0, 37),
    (0, 37),
    (0, 38),
    (0, 38),
    (0, 39),
    (0, 39),
    (0, 40),
    (0, 40),
    (0, 41),
    (0, 41),
    (0, 42),
    (0, 42),
    (0, 42),
    (0, 43),
    (0, 43),
    (0, 44),
    (0, 44),
    (0, 45),
    (0, 45),
    (0, 46),
    (0, 46),
    (0, 47),
    (0, 47),
    (0, 48),
    (0, 48),
    (0, 49),
    (0, 49),
    (0, 50),
    (0, 50),
    (0, 51),
    (0, 51),
    (0, 52),
    (0, 52),
    (0, 53),
    (0, 53),
    (0, 54),
    (0, 54),
    (0, 55),
    (0, 55),
    (0, 56),
    (0, 56),
    (0, 57),
    (0, 57),
    (0, 58),
    (0, 58),
    (0, 59),
    (0, 59),
    (0, 60),
    (0, 60),
    (0, 61),
    (0, 61),
    (0, 62),
    (0, 62),
    (0, 63),
    (0, 63),
    (1, 63),
    (1, 63),
    (2, 63),
    (2, 63),
    (3, 63),
    (3, 63),
    (4, 63),
    (4, 63),
    (5, 63),
    (5, 63),
    (6, 63),
    (6, 63),
    (7, 63),
    (7, 63),
    (8, 63),
    (8, 63),
    (9, 63),
    (9, 63),
    (10, 63),
    (10, 63),
    (11, 63),
    (11, 63),
    (12, 63),
    (12, 63),
    (13, 63),
    (13, 63),
    (14, 63),
    (14, 63),
    (15, 63),
    (15, 63),
    (16, 63),
    (16, 63),
    (17, 63),
    (17, 63),
    (18, 63),
    (18, 63),
    (19, 63),
    (19, 63),
    (20, 63),
    (20, 63),
    (21, 63),
    (21, 63),
    (21, 63),
    (22, 63),
    (22, 63),
    (23, 63),
    (23, 63),
    (24, 63),
    (24, 63),
    (25, 63),
    (25, 63),
    (26, 63),
    (26, 63),
    (27, 63),
    (27, 63),
    (28, 63),
    (28, 63),
    (29, 63),
    (29, 63),
    (30, 63),
    (30, 63),
    (31, 63),
    (31, 63),
    (32, 63),
    (32, 63),
    (33, 63),
    (33, 63),
    (34, 63),
    (34, 63),
    (35, 63),
    (35, 63),
    (36, 63),
    (36, 63),
    (37, 63),
    (37, 63),
    (38, 63),
    (38, 63),
    (39, 63),
    (39, 63),
    (40, 63),
    (40, 63),
    (41, 63),
    (41, 63),
    (42, 63),
    (42, 63),
    (43, 63),
    (43, 63),
    (44, 63),
    (44, 63),
    (45, 63),
    (45, 63),
    (46, 63),
    (46, 63),
    (47, 63),
    (47, 63),
    (48, 63),
    (48, 63),
    (49, 63),
    (49, 63),
    (50, 63),
    (50, 63),
    (51, 63),
    (51, 63),
    (52, 63),
    (52, 63),
    (53, 63),
    (53, 63),
    (54, 63),
    (54, 63),
    (55, 63),
    (55, 63),
    (56, 63),
    (56, 63),
    (57, 63),
    (57, 63),
    (58, 63),
    (58, 63),
    (59, 63),
    (59, 63),
    (60, 63),
    (60, 63),
    (61, 63),
    (61, 63),
    (62, 63),
    (62, 63),
    (63, 63),
    (63, 63),
)) / 63


_PLT_4_5BIT = np.array((
    (0, 0),
    (0, 0),
    (0, 1),
    (0, 1),
    (0, 1),
    (0, 2),
    (1, 0),
    (0, 3),
    (0, 3),
    (0, 3),
    (0, 4),
    (1, 2),
    (1, 2),
    (0, 5),
    (1, 3),
    (1, 3),
    (0, 6),
    (0, 6),
    (0, 7),
    (0, 7),
    (2, 3),
    (0, 8),
    (1, 6),
    (1, 6),
    (0, 9),
    (4, 1),
    (4, 1),
    (0, 10),
    (5, 0),
    (0, 11),
    (0, 11),
    (5, 1),
    (0, 12),
    (5, 2),
    (5, 2),
    (0, 13),
    (2, 9),
    (2, 9),
    (0, 14),
    (1, 12),
    (0, 15),
    (0, 15),
    (0, 15),
    (0, 16),
    (2, 12),
    (2, 12),
    (0, 17),
    (1, 15),
    (0, 18),
    (0, 18),
    (8, 2),
    (0, 19),
    (0, 19),
    (2, 15),
    (0, 20),
    (9, 2),
    (9, 2),
    (0, 21),
    (9, 3),
    (0, 22),
    (0, 22),
    (10, 2),
    (0, 23),
    (0, 23),
    (9, 5),
    (0, 24),
    (10, 4),
    (10, 4),
    (0, 25),
    (2, 21),
    (0, 26),
    (0, 26),
    (4, 18),
    (1, 25),
    (1, 25),
    (13, 1),
    (0, 28),
    (2, 24),
    (2, 24),
    (0, 29),
    (4, 21),
    (1, 28),
    (1, 28),
    (13, 4),
    (0, 31),
    (0, 31),
    (15, 1),
    (1, 30),
    (4, 24),
    (4, 24),
    (1, 31),
    (15, 3),
    (3, 28),
    (3, 28),
    (15, 4),
    (2, 31),
    (4, 27),
    (4, 27),
    (3, 30),
    (15, 6),
    (15, 6),
    (3, 31),
    (15, 7),
    (5, 28),
    (5, 28),
    (4, 30),
    (4, 31),
    (15, 9),
    (15, 9),
    (6, 28),
    (15, 10),
    (15, 10),
    (5, 31),
    (20, 1),
    (6, 30),
    (6, 30),
    (15, 12),
    (6, 31),
    (15, 13),
    (15, 13),
    (8, 28),
    (20, 4),
    (20, 4),
    (7, 31),
    (15, 15),
    (9, 28),
    (9, 28),
    (15, 16),
    (8, 31),
    (23, 1),
    (23, 1),
    (9, 30),
    (20, 8),
    (9, 31),
    (9, 31),
    (10, 29),
    (11, 28),
    (11, 28),
    (10, 30),
    (10, 31),
    (20, 11),
    (20, 11),
    (12, 28),
    (11, 30),
    (11, 31),
    (11, 31),
    (13, 27),
    (12, 30),
    (12, 30),
    (23, 8),
    (12, 31),
    (13, 29),
    (13, 29),
    (14, 28),
    (27, 2),
    (13, 31),
    (13, 31),
    (23, 11),
    (24, 10),
    (24, 10),
    (14, 30),
    (14, 31),
    (27, 5),
    (27, 5),
    (15, 30),
    (26, 8),
    (24, 13),
    (24, 13),
    (15, 31),
    (17, 28),
    (17, 28),
    (27, 8),
    (16, 31),
    (26, 11),
    (26, 11),
    (24, 16),
    (17, 30),
    (17, 31),
    (17, 31),
    (27, 11),
    (18, 30),
    (27, 12),
    (27, 12),
    (24, 19),
    (18, 31),
    (18, 31),
    (24, 20),
    (27, 14),
    (19, 31),
    (19, 31),
    (27, 15),
    (24, 22),
    (20, 30),
    (20, 30),
    (24, 23),
    (27, 17),
    (27, 17),
    (21, 30),
    (27, 18),
    (24, 25),
    (24, 25),
    (21, 31),
    (24, 26),
    (27, 20),
    (27, 20),
    (22, 31),
    (27, 21),
    (27, 21),
    (24, 28),
    (23, 30),
    (24, 29),
    (24, 29),
    (27, 23),
    (24, 30),
    (27, 24),
    (27, 24),
    (24, 31),
    (25, 29),
    (25, 30),
    (25, 30),
    (27, 26),
    (25, 31),
    (25, 31),
    (27, 27),
    (26, 30),
    (26, 30),
    (26, 30),
    (26, 31),
    (27, 29),
    (28, 28),
    (28, 28),
    (27, 30),
    (27, 31),
    (27, 31),
    (27, 31),
    (28, 30),
    (30, 26),
    (30, 26),
    (28, 31),
    (30, 27),
    (29, 30),
    (29, 30),
    (29, 30),
    (29, 31),
    (29, 31),
    (30, 29),
    (31, 28),
    (30, 30),
    (30, 30),
    (30, 31),
    (30, 31),
    (31, 30),
    (31, 30),
    (31, 30),
    (31, 31),
    (31, 31),
)) / 31


_PLT_4_6BIT = np.array((
    (0, 0),
    (0, 1),
    (0, 1),
    (1, 0),
    (0, 3),
    (0, 4),
    (1, 2),
    (1, 3),
    (0, 6),
    (0, 7),
    (2, 3),
    (1, 6),
    (0, 9),
    (0, 10),
    (5, 0),
    (5, 1),
    (0, 12),
    (0, 13),
    (2, 9),
    (1, 12),
    (0, 15),
    (0, 16),
    (2, 12),
    (1, 15),
    (0, 18),
    (0, 19),
    (2, 15),
    (9, 2),
    (0, 21),
    (9, 3),
    (10, 2),
    (0, 23),
    (0, 24),
    (10, 4),
    (2, 21),
    (0, 26),
    (1, 25),
    (13, 1),
    (2, 24),
    (0, 29),
    (1, 28),
    (13, 4),
    (15, 1),
    (0, 32),
    (1, 31),
    (15, 3),
    (15, 4),
    (0, 35),
    (1, 34),
    (15, 6),
    (15, 7),
    (0, 38),
    (1, 37),
    (15, 9),
    (15, 10),
    (0, 41),
    (1, 40),
    (15, 12),
    (0, 43),
    (0, 44),
    (20, 4),
    (15, 15),
    (0, 46),
    (0, 47),
    (23, 1),
    (20, 8),
    (0, 49),
    (0, 50),
    (1, 48),
    (20, 11),
    (0, 52),
    (0, 53),
    (1, 51),
    (23, 8),
    (0, 55),
    (0, 56),
    (27, 2),
    (23, 11),
    (0, 58),
    (0, 59),
    (27, 5),
    (26, 8),
    (0, 61),
    (0, 62),
    (27, 8),
    (0, 63),
    (1, 62),
    (5, 54),
    (27, 11),
    (2, 62),
    (2, 63),
    (5, 57),
    (27, 14),
    (3, 63),
    (4, 62),
    (5, 60),
    (27, 17),
    (5, 62),
    (6, 61),
    (5, 63),
    (27, 20),
    (6, 63),
    (7, 62),
    (8, 60),
    (27, 23),
    (8, 62),
    (9, 61),
    (8, 63),
    (27, 26),
    (9, 63),
    (10, 62),
    (40, 2),
    (27, 29),
    (11, 62),
    (27, 30),
    (40, 5),
    (12, 62),
    (12, 63),
    (27, 33),
    (40, 8),
    (14, 61),
    (14, 62),
    (27, 36),
    (40, 11),
    (15, 62),
    (15, 63),
    (27, 39),
    (43, 8),
    (17, 61),
    (17, 62),
    (40, 16),
    (17, 63),
    (18, 62),
    (18, 63),
    (40, 19),
    (20, 60),
    (21, 59),
    (20, 62),
    (40, 22),
    (51, 1),
    (21, 62),
    (21, 63),
    (43, 19),
    (22, 62),
    (24, 59),
    (22, 63),
    (43, 22),
    (24, 61),
    (24, 62),
    (25, 60),
    (46, 19),
    (25, 62),
    (48, 17),
    (25, 63),
    (46, 22),
    (28, 59),
    (48, 20),
    (27, 62),
    (49, 19),
    (28, 62),
    (48, 23),
    (28, 63),
    (49, 22),
    (31, 59),
    (48, 26),
    (30, 62),
    (51, 21),
    (31, 62),
    (48, 29),
    (31, 63),
    (32, 62),
    (34, 59),
    (51, 25),
    (33, 62),
    (33, 63),
    (34, 62),
    (51, 28),
    (34, 63),
    (35, 62),
    (37, 59),
    (51, 31),
    (36, 62),
    (36, 63),
    (37, 62),
    (51, 34),
    (37, 63),
    (38, 62),
    (48, 43),
    (51, 37),
    (39, 62),
    (39, 63),
    (48, 46),
    (51, 40),
    (40, 63),
    (41, 62),
    (48, 49),
    (51, 43),
    (42, 62),
    (42, 63),
    (51, 45),
    (51, 46),
    (48, 53),
    (44, 62),
    (51, 48),
    (51, 49),
    (48, 56),
    (45, 63),
    (51, 51),
    (51, 52),
    (48, 59),
    (47, 62),
    (51, 54),
    (51, 55),
    (48, 62),
    (48, 63),
    (51, 57),
    (51, 58),
    (49, 63),
    (50, 62),
    (51, 60),
    (51, 61),
    (51, 62),
    (52, 61),
    (51, 63),
    (54, 58),
    (52, 63),
    (53, 62),
    (54, 60),
    (53, 63),
    (54, 62),
    (54, 62),
    (54, 63),
    (55, 62),
    (55, 63),
    (55, 63),
    (57, 60),
    (56, 63),
    (57, 62),
    (57, 62),
    (57, 63),
    (58, 62),
    (58, 63),
    (58, 63),
    (60, 60),
    (59, 63),
    (60, 62),
    (60, 62),
    (60, 63),
    (61, 62),
    (61, 63),
    (61, 63),
    (63, 60),
    (62, 63),
    (63, 62),
    (63, 62),
    (63, 63),
)) / 63


PLT_3: np.ndarray = np.array((_PLT_3_5BIT, _PLT_3_6BIT, _PLT_3_5BIT)).swapaxes(0, 1)
PLT_4: np.ndarray = np.array((_PLT_4_5BIT, _PLT_4_6BIT, _PLT_4_5BIT)).swapaxes(0, 1)
